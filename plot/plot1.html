
<head>
	<meta charset="utf-8">
	<meta name="name" content="Concept Map" />
	<meta name="description" content=""/>
	<meta name="mintags" content="2" />
	<meta name="maxtags" content="2" />
	<title>COM-PI-UNI</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../css/freelancer.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <!-- -->
    <link href="../font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
<style>

svg {
    font: 12px sans-serif;
}

text {
    pointer-events: none;
}

.inner_node rect {
    pointer-events: all;
}

.inner_node rect.highlight {
    stroke: #315B7E;
    stroke-width: 2px;
}

.outer_node circle {
    fill: #fff;
    stroke: steelblue;
    stroke-width: 1.5px;
    pointer-events: all;
}

.outer_node circle.highlight
{
    stroke: #315B7E;
    stroke-width: 2px;
}

.link {
    fill: none;
}

</style>	
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top" style="padding:5px 0">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html#page-top">Money Research Cure</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="../index.html#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="../index.html#portfolio">Story</a>
                    </li>
                    <li class="page-scroll">
                        <a href="../index.html#about">About</a>
                    </li>
                    <li class="page-scroll">
                        <a href="../index.html#contact">Contact</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>


<script src="http://d3js.org/d3.v3.min.js"></script>
<div align="center" id ="chart1" class="container">
<script>

//
// Generated by the Exaile Playlist Analyzer plugin.
// (C) 2014 Dustin Spicuzza <dustin@virtualroadside.com>
//
// This work is licensed under the Creative Commons Attribution 4.0
// International License. To view a copy of this license, visit
// http://creativecommons.org/licenses/by/4.0/.
//
// Inspired by http://www.findtheconversation.com/concept-map/
// Loosely based on http://bl.ocks.org/mbostock/4063550
//


//var data = [[120, ["like", "call response", "dramatic intro"], ["has breaks", "male vocalist", "silly", "swing"]], [150, ["brassy", "brassy","brassy","like", "calm energy"], ["female vocalist", "swing", "fun"]]];


var data = [[10278, ['Merck Sharp & Dohme Corporation'], ['columbia'], 'Elaine Abrams'],
 [5511,
  ['Incyte Corporation', 'Novartis Pharmaceuticals Corporation'],
  ['others', 'sinai'],
  'John Mascarenhas'],
 [4176,
  ['GlaxoSmithKline, LLC.', 'Amgen Inc.'],
  ['cornell', 'presbyterian'],
  'James Bussel'],
 [3376,
  ['AstraZeneca Pharmaceuticals LP'],
  ['sinai', 'others'],
  'Roxana Mehran'],
 [3229,
  ['EMD Serono, Inc.',
   'Eli Lilly and Company',
   'Genentech, Inc.',
   'Bristol-Myers Squibb Company',
   'Exelixis Inc.',
   'Merck Sharp & Dohme Corporation'],
  ['sloan', 'others'],
  'Naiyer Rizvi'],
 [2860,
  ['United Therapeutics Corporation', 'Actelion Pharmaceuticals US, Inc.'],
  ['others'],
  'Shilpa Desouza'],
 [2661,
  ['Seattle Genetics, Inc.', 'Merck Sharp & Dohme Corporation'],
  ['sloan', 'others', 'university of rochester medical center'],
  'Craig Moskowitz'],
 [2341,
  ['Novartis Pharmaceuticals Corporation', 'Biogen Idec Inc.'],
  ['cornell'],
  'Timothy Vartanian'],
 [2221,
  ['Seattle Genetics, Inc.', 'Gilead Sciences Inc'],
  ['sloan'],
  'Alison Moskowitz'],
 [2195,
  ['GlaxoSmithKline, LLC.',
   'Genentech, Inc.',
   'Merck Sharp & Dohme Corporation',
   'Bristol-Myers Squibb Company'],
  ['sloan', 'others'],
  'Paul Chapman'],
 [2093,
  ['AstraZeneca Pharmaceuticals LP', 'Bristol-Myers Squibb Company'],
  ['others', 'sloan'],
  'Neil Segal'],
 [1974, ['Edwards Lifesciences Corporation'], ['columbia'], 'Susheel Kodali'],
 [1926,
  ['Janssen Research & Development, LLC',
   'Onyx Pharmaceuticals, Inc., an Amgen subsidiary',
   'Celgene Corporation'],
  ['cornell', 'presbyterian', 'others'],
  'Tomer Mark'],
 [1856,
  ['Novartis Pharmaceuticals Corporation',
   'Pfizer Inc.',
   'GlaxoSmithKline, LLC.',
   'Genentech, Inc.'],
  ['sloan'],
  'Eric Sherman'],
 [1730,
  ['Sanofi and Genzyme US Companies',
   'Millennium Pharmaceuticals, Inc.',
   'Genentech, Inc.',
   'Astellas Pharma Global Development',
   'Eli Lilly and Company',
   'Bristol-Myers Squibb Company',
   'Amgen Inc.'],
  ['cornell', 'others', 'columbia'],
  'Scott Tagawa'],
 [1693, ['Amgen Inc.'], ['sloan', 'others'], 'Gerald Soff'],
 [1655,
  ['Janssen Research & Development, LLC',
   'Exelixis Inc.',
   'Medivation Inc.',
   'Millennium Pharmaceuticals, Inc.',
   'Ferring Pharmaceuticals Inc.',
   'Novartis Pharmaceuticals Corporation'],
  ['others', 'sloan'],
  'Dana Rathkopf'],
 [1535,
  ['Takeda Pharmaceuticals U.S.A., Inc.',
   'Eli Lilly and Company',
   'Bristol-Myers Squibb Company'],
  ['others'],
  'Mardik Donikyan'],
 [1523,
  ['Pfizer Inc.',
   'Incyte Corporation',
   'Astellas Scientific and Medical Affairs',
   'GlaxoSmithKline, LLC.'],
  ['others', 'sloan'],
  'Helena Yu'],
 [1510,
  ['GlaxoSmithKline, LLC.',
   'Millennium Pharmaceuticals, Inc.',
   'Janssen Research & Development, LLC',
   'Pharmacyclics, Inc',
   'Celgene Corporation',
   'Novartis Pharmaceuticals Corporation',
   'Onyx Pharmaceuticals, Inc., an Amgen subsidiary'],
  ['sinai', 'icahn school', 'others'],
  'Ajai Chari'],
 [1506, ['Bristol-Myers Squibb Company'], ['sloan'], 'Matthew Hellmann'],
 [1374,
  ['United Therapeutics Corporation',
   'GlaxoSmithKline, LLC.',
   'Actelion Pharmaceuticals US, Inc.',
   'Eli Lilly and Company'],
  ['others', 'columbia'],
  'Erika Berman'],
 [1350, ['AstraZeneca Pharmaceuticals LP'], ['others'], 'Valentin Fuster'],
 [1341,
  ['Bristol-Myers Squibb Company',
   'GlaxoSmithKline, LLC.',
   'Eli Lilly and Company'],
  ['sloan', 'others'],
  'Jedd Wolchok'],
 [1330,
  ['Janssen Research & Development, LLC',
   'Ventana Medical Systems, Inc.',
   'Exelixis Inc.',
   'Medivation Inc.'],
  ['others', 'sloan'],
  'Howard Scher'],
 [1325,
  ['Pfizer Inc.',
   'Exelixis Inc.',
   'Novartis Pharmaceuticals Corporation',
   'Astellas Pharma Inc',
   'Genentech, Inc.',
   'Bristol-Myers Squibb Company',
   'GlaxoSmithKline, LLC.'],
  ['sloan', 'others'],
  'Robert Motzer'],
 [1297,
  ['Celgene Corporation',
   'Millennium Pharmaceuticals, Inc.',
   'Bristol-Myers Squibb Company',
   'Onyx Pharmaceuticals, Inc., an Amgen subsidiary',
   'Janssen Research & Development, LLC'],
  ['cornell', 'presbyterian', 'others'],
  'Ruben Niesvizky'],
 [1265,
  ['Incyte Corporation', 'Celgene Corporation'],
  ['columbia'],
  'Azra Raza'],
 [1217,
  ['Eisai Inc.',
   'Merck Sharp & Dohme Corporation',
   'Novartis Pharmaceuticals Corporation'],
  ['others', 'sloan'],
  'Ana Molina'],
 [1163,
  ['Bayer HealthCare LLC',
   'Celgene Corporation',
   'Bristol-Myers Squibb Company',
   'Daiichi Sankyo Inc.',
   'Genentech, Inc.',
   'Novartis Pharmaceuticals Corporation',
   'Sanofi and Genzyme US Companies',
   'Eli Lilly and Company',
   'Otsuka America Pharmaceutical, Inc.'],
  ['clinical research alliance',
   'new york university',
   'biomedical research alliance',
   'others'],
  'Francis Arena'],
 [1060,
  ['Sanofi and Genzyme US Companies',
   'Genentech, Inc.',
   'Biogen Idec Inc.',
   'Baxter Healthcare',
   'Novartis Pharmaceuticals Corporation',
   'Eli Lilly and Company',
   'Merz North America, Inc.'],
  ['others'],
  'Keith Edwards'],
 [1036,
  ['Genentech, Inc.',
   'Exelixis Inc.',
   'Eli Lilly and Company',
   'Bayer HealthCare LLC',
   'Novartis Pharmaceuticals Corporation'],
  ['sloan', 'others'],
  'Ghassan Abou'],
 [1015,
  ['Spectrum Pharmaceuticals Inc.',
   'Millennium Pharmaceuticals, Inc.',
   'Seattle Genetics, Inc.',
   'Celgene Corporation'],
  ['sloan', 'others'],
  'Steven Horwitz'],
 [999,
  ['Onyx Pharmaceuticals, Inc., an Amgen subsidiary',
   'Incyte Corporation',
   'Millennium Pharmaceuticals, Inc.',
   'Celgene Corporation',
   'Novartis Pharmaceuticals Corporation',
   'GlaxoSmithKline, LLC.',
   'Pharmacyclics, Inc',
   'Amgen Inc.'],
  ['clinical research alliance', 'others'],
  'Morton Coleman'],
 [945,
  ['Novartis Pharmaceuticals Corporation'],
  ['presbyterian'],
  'Eric Feldman'],
 [935,
  ['Takeda Pharmaceuticals U.S.A., Inc.',
   'Genentech, Inc.',
   'Janssen Research & Development, LLC',
   'Bristol-Myers Squibb Company',
   'Forest Laboratories, Inc.',
   'Pfizer Inc.'],
  ['others'],
  'Ronald Brenner'],
 [919, ['Novartis Pharmaceuticals Corporation'], ['sloan'], 'Ronald Dematteo'],
 [919, ['Sanofi and Genzyme US Companies'], ['others'], 'Mary Nevins'],
 [911,
  ['Genentech, Inc.',
   'Bayer HealthCare LLC',
   'Sanofi and Genzyme US Companies'],
  ['cornell', 'columbia'],
  'Manish Shah'],
 [900, ['GlaxoSmithKline, LLC.'], ['others'], 'Robert Wise'],
 [860,
  ['Seattle Genetics, Inc.', 'Bristol-Myers Squibb Company'],
  ['columbia'],
  'Ahmed Sawas'],
 [856, ['Seattle Genetics, Inc.'], ['sloan'], 'Leo Gordon'],
 [835, ['Janssen Research & Development, LLC'], ['cornell'], 'Steven Paul'],
 [830,
  ['Sanofi and Genzyme US Companies'],
  ['sinai', 'others'],
  'Manisha Balwani'],
 [820,
  ['Pfizer Inc.',
   'Eli Lilly and Company',
   'Boehringer Ingelheim Pharmaceuticals, Inc.',
   'Sanofi and Genzyme US Companies',
   'Regeneron Pharmaceuticals, Inc.',
   'Takeda Pharmaceuticals U.S.A., Inc.',
   'Novo Nordisk AS',
   'Genentech, Inc.',
   'Emergent Biosolutions Inc.',
   'GlaxoSmithKline, LLC.',
   'Eisai Inc.',
   'Merck Sharp & Dohme Corporation',
   'Siemens Medical Solutions USA, Inc.',
   'Bristol-Myers Squibb Company',
   'Novartis Pharmaceuticals Corporation',
   'Sanofi Pasteur Inc.'],
  ['rochester clinical'],
  'Matthew Davis'],
 [805,
  ['Merck Sharp & Dohme Corporation',
   'Takeda Pharmaceuticals U.S.A., Inc.',
   'Shire North American Group Inc',
   'Otsuka America Pharmaceutical, Inc.',
   'Genentech, Inc.',
   'Eli Lilly and Company',
   'Teva Pharmaceuticals USA, Inc.',
   'Boehringer Ingelheim Pharma GmbH & Co.KG'],
  ['others'],
  'Mark Dibuono'],
 [793, ['Alkermes, Inc.', 'Pfizer Inc.'], ['others'], 'Joel Breving']];
// transform the data into a useful representation
// 1 is inner, 2, is outer

// need: inner, outer, links
//
// inner: 
// links: { inner: outer: }


var outer = d3.map();
var outer2 = d3.map();
var inner = [];
var links = [];
var links2 = [];

var outerId = [0];
var outerId2 = [0];

data.forEach(function(d){
	
	if (d == null)
		return;
	
	i = { id: 'i' + inner.length, name: d[0], related_links: [], lab: d[3] };
	i.related_nodes = [i.id];
	inner.push(i);
	
    if (!Array.isArray(d[1]))
        d[1] = [d[1]];
    if (!Array.isArray(d[2]))
        d[2] = [d[2]];
	//outer
	d[1].forEach(function(d1){
		
		o = outer.get(d1);
		
		if (o == null)
		{
			o = { name: d1,	id: 'o' + outerId[0], related_links: []};
			o.related_nodes = [o.id];
			outerId[0] = outerId[0] + 1;	
			
			outer.set(d1, o);
		}
		
		// create the links
		l = { id: 'l-' + i.id + '-' + o.id, inner: i, outer: o }
		links.push(l);
		
		// and the relationships
		i.related_nodes.push(o.id);
		i.related_links.push(l.id);
		o.related_nodes.push(i.id);
		o.related_links.push(l.id);
	});
  //outer2
  d[2].forEach(function(d2){
      
      o = outer2.get(d2);
      
      if (o == null)
      {
          o = { name: d2, id: 'o2' + outerId2[0], related_links: [] };
          o.related_nodes = [o.id];
          outerId2[0] = outerId2[0] + 1;    
          
          outer2.set(d2, o);
      }
      
      // create the links
      l = { id: 'l-' + i.id + '-' + o.id, inner: i, outer: o }
      links2.push(l);
      
      // and the relationships
      i.related_nodes.push(o.id);
      i.related_links.push(l.id);
      o.related_nodes.push(i.id);
      o.related_links.push(l.id);
  });  
});

data = {
	inner: inner,
	outer: outer.values(),
    outer2: outer2.values(),
	links: links,
    links2: links2
}

// sort the data -- TODO: have multiple sort options
// outer = data.outer;
// data.outer = Array(outer.length);


// var i1 = 0;
// var i2 = outer.length - 1;

// for (var i = 0; i < data.outer.length; ++i)
// {
// 	if (i % 2 == 1)
// 		data.outer[i2--] = outer[i];
// 	else
// 		data.outer[i1++] = outer[i];
// }

// console.log(data.outer.reduce(function(a,b) { return a + b.related_links.length; }, 0) / data.outer.length);


// from d3 colorbrewer: 
// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).
var colors = ["#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"]
var color = d3.scale.linear()
    .domain([750, 11000])
    .range([colors.length-1, 0])
    .clamp(true);

var diameter = 1100;
var rect_width = 100;
var rect_height = 15;

var link_width = "1px"; 

var il = data.inner.length;
var ol = data.outer.length;


var inner_y = d3.scale.linear()
    .domain([0, il])
    .range([-(il * rect_height)/2, (il * rect_height)/2]);

mid = (data.outer.length/2.0)
var outer_x = d3.scale.linear()
    .domain([0, data.outer.length])
    .range([350 ,190]);

var outer2_x = d3.scale.linear()
    .domain([0, data.outer2.length])
    .range([15, 176]);

// var outer_y = d3.scale.linear()
//     .domain([0, data.outer.length])
//     .range([0, diameter / 2 - 120]);


// setup positioning
data.outer = data.outer.map(function(d, i) { 
    d.x = outer_x(i);
    d.y = diameter/3;
    return d;
});

data.outer2 = data.outer2.map(function(d, i) { 
    d.x = outer2_x(i);
    d.y = diameter/3;
    return d;
});


data.inner = data.inner.map(function(d, i) { 
    d.x = -(rect_width / 2);
    d.y = inner_y(i);
    return d;
});


function get_color(name)
{
    var c = Math.round(color(name));
    if (isNaN(c))
        return '#dddddd';	// fallback color
    
    return colors[c];
}

// Can't just use d3.svg.diagonal because one edge is in normal space, the
// other edge is in radial space. Since we can't just ask d3 to do projection
// of a single point, do it ourselves the same way d3 would do it.  


function projectX(x)
{
    return ((x - 90) / 180 * Math.PI) - (Math.PI/2);
}

var diagonal = d3.svg.diagonal()
    .source(function(d) { return {"x": d.outer.y * Math.cos(projectX(d.outer.x)), 
                                  "y": -d.outer.y * Math.sin(projectX(d.outer.x))}; })            
    .target(function(d) { return {"x": d.inner.y + rect_height/2,
                                  "y": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width}; })
    .projection(function(d) { return [d.y, d.x]; });

var diagonal2 = d3.svg.diagonal()
    .source(function(d) { return {"x": d.outer.y * Math.cos(projectX(d.outer.x)), 
                                  "y": -d.outer.y * Math.sin(projectX(d.outer.x))}; })            
    .target(function(d) { return {"x": d.inner.y + rect_height/2,
                                  "y": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width}; })
    .projection(function(d) { return [d.y, d.x]; });


var svg = d3.select("body").select("#chart1").append("svg")
    .attr("margin", "auto")
    .attr("width", diameter+200)
    .attr("height", diameter+300)
  .append("g")
    .attr("transform", "translate(" + parseInt(diameter / 2+50,10)+ "," + diameter / 1.5 + ")");
    

// links
var link = svg.append('g').attr('class', 'links').selectAll(".link")
    .data(data.links)
  .enter().append('path')
    .attr('class', 'link')
    .attr('id', function(d) { return d.id })
    .attr("d", diagonal)
    .attr('stroke', function(d) { return get_color(d.inner.name); })
    .attr('stroke-width', link_width);

var link2 = svg.append('g').attr('class', 'links').selectAll(".link")
    .data(data.links2)
  .enter().append('path')
    .attr('class', 'link')
    .attr('id', function(d) { return d.id })
    .attr("d", diagonal2)
    .attr('stroke', function(d) { return get_color(d.inner.name); })
    .attr('stroke-width', link_width);
// outer nodes

var onode = svg.append('g').selectAll(".outer_node")
    .data(data.outer)
  .enter().append("g")
    .attr("class", "outer_node")
    .attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })
    .on("mouseover", mouseover)
    .on("mouseout", mouseout);
  
onode.append("circle")
    .attr('id', function(d) { return d.id })
    .attr("r", 4.5);
  
onode.append("circle")
    .attr('r', 20)
    .attr('visibility', 'hidden');
  
onode.append("text")
	.attr('id', function(d) { return d.id + '-txt'; })
    .attr("dy", ".31em")
    .attr("text-anchor", function(d) { return d.x < 180 ? "start" : "end"; })
    .attr("transform", function(d) { return d.x < 180 ? "translate(8)" : "rotate(180)translate(-8)"; })
    .text(function(d) { return d.name; });
// outer nodes2
var onode2 = svg.append('g').selectAll(".outer_node")
    .data(data.outer2)
  .enter().append("g")
    .attr("class", "outer_node")
    .attr("transform", function(d) { return "rotate(" + (d.x - 90) + ")translate(" + d.y + ")"; })
    .on("mouseover", mouseover)
    .on("mouseout", mouseout);
  
onode2.append("circle")
    .attr('id', function(d) { return d.id })
    .attr("r", 4.5);
  
onode2.append("circle")
    .attr('r', 20)
    .attr('visibility', 'hidden');
  
onode2.append("text")
    .attr('id', function(d) { return d.id + '-txt'; })
    .attr("dy", ".31em")
    .attr("text-anchor", function(d) { return d.x < 180 ? "start" : "end"; })
    .attr("transform", function(d) { return d.x < 180 ? "translate(8)" : "rotate(180)translate(-8)"; })
    .text(function(d) { return d.name; });
// inner nodes
  
var inode = svg.append('g').selectAll(".inner_node")
    .data(data.inner)
  .enter().append("g")
    .attr("class", "inner_node")
    .attr("transform", function(d, i) { return "translate(" + d.x + "," + d.y + ")"})
    .on("mouseover", mouseover1)
    .on("mouseout", mouseout1);
  
inode.append('rect')
    .attr('width', rect_width)
    .attr('height', rect_height)
    .attr('id', function(d) { return d.id; })
    .attr('fill', function(d) { return get_color(d.name); });
  
inode.append("text")
	.attr('id', function(d) { return d.id + '-txt'; })
    .attr('text-anchor', 'middle')
    .attr("transform", "translate(" + rect_width/2 + ", " + rect_height * .75 + ")")
    .text(function(d) { return d.lab ; });

// need to specify x/y/etc

d3.select(self.frameElement).style("height", diameter - 150 + "px");

function mouseover(d)
{
	// bring to front
	d3.selectAll('.links .link').sort(function(a, b){ return d.related_links.indexOf(a.id); });	
	
    for (var i = 0; i < d.related_nodes.length; i++)
    {
        d3.select('#' + d.related_nodes[i]).classed('highlight', true);
        d3.select('#' + d.related_nodes[i] + '-txt').attr("font-weight", 'bold');
    }
    
    for (var i = 0; i < d.related_links.length; i++)
        d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');
}

function mouseout(d)
{   	
    for (var i = 0; i < d.related_nodes.length; i++)
    {
        d3.select('#' + d.related_nodes[i]).classed('highlight', false);
        d3.select('#' + d.related_nodes[i] + '-txt').attr("font-weight", 'normal');
    }
    
    for (var i = 0; i < d.related_links.length; i++)
        d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);
}

function mouseover1(d)
{
  // bring to front
  d3.selectAll('.links .link').sort(function(a, b){ return d.related_links.indexOf(a.id); }); 
  
    for (var i = 0; i < d.related_nodes.length; i++)
    {
        d3.select('#' + d.related_nodes[i]).classed('highlight', true);
        d3.select('#' + d.related_nodes[i] + '-txt').attr("font-weight", 'bold');
    }
    
    for (var i = 0; i < d.related_links.length; i++)
        d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');
  d3.select('#' + d.id + '-txt').text(function(e) { return e.name + "K" ; });
}

function mouseout1(d)
{     
    for (var i = 0; i < d.related_nodes.length; i++)
    {
        d3.select('#' + d.related_nodes[i]).classed('highlight', false);
        d3.select('#' + d.related_nodes[i] + '-txt').attr("font-weight", 'normal');
    }
    
    for (var i = 0; i < d.related_links.length; i++)
        d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);
  d3.select('#' + d.id + '-txt').text(function(e) { return e.lab ; });
}

</script>
</div>